# SOKOBAN 推箱子游戏

使用 React、TypeScript 和 Tailwind CSS 构建的经典推箱子（Sokoban）益智游戏的精美现代实现。游戏包含 15 个精心设计的挑战关卡，流畅的动画效果和直观的游戏体验。

![Sokoban 游戏截图](screenshot.png) <!-- 实际截图的占位符 -->

## 功能特性

- **15 个手工制作的关卡**: 从新手友好到具有挑战性的谜题
- **直观的控制方式**: 使用方向键或 WASD 移动玩家
- **移动计数器**: 使用内置移动计数器跟踪您的效率
- **撤销功能**: 使用 Ctrl+Z 或撤销按钮撤销移动
- **关卡导航**: 使用下/上一个按钮在关卡之间移动
- **胜利动画**: 用精美的动画庆祝您的胜利
- **响应式设计**: 在任何设备上都能获得一致的体验
- **精美的视觉效果**: 带有动画瓷砖和平滑过渡的现代 UI
- **AI 集成**: 实验性的 AI 驱动的关卡生成和提示功能（需要 API 密钥）

## 如何游玩

推箱子游戏的目标是将所有箱子推到目标位置：

- **玩家**（蓝色圆圈）：由玩家控制
- **箱子**（琥珀色方块）：推到目标处，无法拉动
- **目标**（红色圆圈）：箱子需要放置的位置
- **箱子在目标上**（绿色方块带对勾）：成功放置的箱子
- **墙壁**：无法穿越的边界

## 控制方式

- **方向键**或**WASD**：移动玩家
- **Ctrl+Z**：撤销上一步
- **重置按钮**：重新开始当前关卡
- **关卡导航**：使用导航按钮在关卡间移动

## 游戏元素

- **玩家**：使用方向键移动
- **地板**：玩家可以移动的空地
- **墙壁**：无法穿越的障碍
- **目标**：指示箱子需要放置位置的圆圈
- **箱子**：需要推到目标上的物品
- **箱子在目标上**：成功放置在目标上的箱子
- **玩家在目标上**：玩家站在目标位置

## 安装和设置

1. **克隆仓库：**
   ```bash
   git clone <repository-url>
   cd sokoban-game
   ```

2. **安装依赖：**
   ```bash
   npm install
   ```

3. **运行开发服务器：**
   ```bash
   npm run dev
   ```

4. **打开浏览器**并导航到 `http://localhost:3000`

## 构建生产版本

要为生产部署构建应用程序：

```bash
npm run build
```

生产就绪文件将在 `dist` 文件夹中生成。

## 项目结构

```
SOKOBAN-main/
├── App.tsx              # 主游戏组件和逻辑
├── constants.ts         # 关卡定义和游戏常量
├── types.ts             # TypeScript 接口和枚举
├── index.html           # HTML 入口点
├── index.tsx            # React 入口点
├── metadata.json        # 项目元数据
├── package.json         # 依赖和脚本
├── tsconfig.json        # TypeScript 配置
├── vite.config.ts       # Vite 构建配置
├── components/
│   ├── GridCell.tsx     # 单个网格单元渲染
│   └── GameControls.tsx # 游戏控制界面
└── services/
    └── geminiService.ts # AI 集成（需要 API 密钥）
```

## 使用的技术

- **React** (v19.2.0)：基于组件的 UI 库
- **TypeScript** (v5.8.2)：类型安全的 JavaScript
- **Tailwind CSS**：用于快速 UI 开发的样式框架
- **Lucide React**：精美的 SVG 图标
- **Vite**：带有热模块替换的快速构建工具
- **Google GenAI**：AI 集成（可选功能）

## 游戏机制

- **移动**：玩家可以上、下、左、右移动
- **推箱子**：玩家可以一次将一个箱子推到相邻的空位置
- **箱子限制**：箱子只能被推，不能被拉
- **胜利条件**：所有箱子必须放在目标位置上
- **历史记录**：记录移动以启用撤销功能
- **关卡进展**：赢得一个关卡以进入下一个

## AI 集成

游戏包含了由 Google GenAI 驱动的实验性 AI 功能：

- **关卡生成**：自动生成新的推箱子关卡
- **提示系统**：当您卡住时获得智能提示

要使用 AI 功能，您需要 Google GenAI API 密钥。将其设置为环境变量：

```bash
GEMINI_API_KEY=your_api_key_here
```

## 自定义

您可以通过编辑 `constants.ts` 添加新关卡。每个关卡定义为字符串数组，使用以下字符：

- `#` - 墙壁
- `@` - 玩家起始位置
- `$` - 箱子
- `.` - 目标
- ` ` - 地板（空地）
- `*` - 箱子在目标上（游戏运行时自动放置）
- `+` - 玩家在目标上（游戏运行时自动放置）

## 贡献

1. Fork 仓库
2. 创建功能分支 (`git checkout -b feature/Amazing-Feature`)
3. 进行更改
4. 提交更改 (`git commit -m 'Add amazing feature'`)
5. 推送到分支 (`git push origin feature/Amazing-Feature`)
6. 开启拉取请求

## 许可证

此项目根据 MIT 许可证授权 - 请参阅 LICENSE 文件了解详细信息。

## 致谢

- 受到由今林洋之创作的经典日本益智视频游戏启发
- 使用现代网络技术构建，获得增强的游戏体验
- 图标由 Lucide React 提供
- AI 功能由 Google GenAI 提供

## 支持

如果您遇到任何问题或对游戏有任何疑问，请在仓库中开启问题。